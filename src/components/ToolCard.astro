---
export interface Props {
  name: string;
  description: string;
  problem: string;
  category: string;
  url: string;
  replaces?: string[];
  toolType: 'extension' | 'software';
}

const { name, description, problem, category, url, replaces, toolType } = Astro.props;

const toolTypeStyles = {
  extension: 'bg-purple-100 text-purple-800',
  software: 'bg-teal-100 text-teal-800',
};
---

<a
  href={url}
  target="_blank"
  rel="noopener noreferrer"
  class="block p-5 bg-white rounded-lg border border-gray-200 hover:border-pg-blue hover:shadow-md transition-all group"
  data-tool
  data-category={category}
  data-tool-type={toolType}
  data-searchable={`${name} ${description} ${problem} ${replaces?.join(' ') || ''} ${toolType}`}
>
  <div class="flex items-start justify-between gap-2 mb-2">
    <h3 class="font-display font-semibold text-lg text-text group-hover:text-pg-blue transition-colors">
      {name}
      <span class="inline-block ml-1 opacity-0 group-hover:opacity-100 transition-opacity">
        <svg class="w-4 h-4 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
        </svg>
      </span>
    </h3>
    <span class={`text-[10px] px-1.5 py-0.5 rounded-full font-medium ${toolTypeStyles[toolType]}`}>
      {toolType}
    </span>
  </div>

  <p class="text-sm text-pg-blue font-medium mb-2">{problem}</p>
  <p class="text-sm text-text-muted mb-3">{description}</p>

  {replaces && replaces.length > 0 && (
    <div class="flex flex-wrap gap-1.5">
      <span class="text-xs text-text-muted">Replaces:</span>
      {replaces.map((item) => (
        <span class="text-xs px-2 py-0.5 bg-gray-100 text-text-muted rounded">
          {item}
        </span>
      ))}
    </div>
  )}
</a>
